{% extends 'index.html' %}


{% load post_extras %}

{% block content %}







<script>
    // GET Î∞©ÏãùÏúºÎ°ú Ï†ÑÏÜ°Îêú Îç∞Ïù¥ÌÑ∞ ÏùΩÍ∏∞


</script>
{% comment %} <script>
    function getCookie(cname) {
        var name = cname + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return;
    }
    $.ajax{
        url: 'your url',
        type: 'POST',
        data: formData,
        headers: {"X-CSRFToken": getCookie('csrftoken')},

        success: function (data) {


        },
})
</script> {% endcomment %}


<style>
    .tab_title li { /*Ïù∏Îëê : ÏòÅÏò§ÎçîÏôÄ Í∞ôÏù¥ Ï£ºÎ¨∏ Ïä§ÌÉÄÏùº Î≥ÄÍ≤Ω*/
        list-style: none;
        color: #000;
        background-color: #F2EBDE;

        cursor: pointer;
        padding: 15px 35px;
        display: inline-block;
        margin: 0 0 1rem;



      }.tab_title li:hover { /*Ïù∏Îëê : ÏòÅÏò§ÎçîÏôÄ Í∞ôÏù¥ Ï£ºÎ¨∏ Ïä§ÌÉÄÏùº Î≥ÄÍ≤Ω*/
        color: #ff0000;

        border-color: #15967d;

      }
    .tab_title li.on { /*Ïù∏Îëê : ÏòÅÏò§ÎçîÏôÄ Í∞ôÏù¥ Ï£ºÎ¨∏ Ïä§ÌÉÄÏùº Î≥ÄÍ≤Ω*/
        color: #ff0000;

        font-weight: bold;
        border-color: #15967d;
        box-shadow: 0 0.7rem 0 0 rgba(255, 0, 0);

      }

      .tab_title li:disabled, .tab_title li.disabled { /*Ïù∏Îëê : ÏòÅÏò§ÎçîÏôÄ Í∞ôÏù¥ Ï£ºÎ¨∏ Ïä§ÌÉÄÏùº Î≥ÄÍ≤Ω*/
        list-style: none;
        color: #ff0000;
        background-color: #1abc9c;
        border-color: #1abc9c;
      }


    .tab_cont {
        clear: both;
        border: 1px solid #dedede;
        background-color: #cecece;
    }

    .tab_cont div {
        text-align: center;
    }

    .tab_cont div.on{
        display: block;
    }


</style>




<!--Îß® ÏúÑÏóê Î©îÎâ¥ Î∞î --->


<section class="my-md-2">


    <nav class="navbar-expand-lg order-py-5">
        <!-- Portfolio Grid Items-->
        <ul class="tab_title topbar" style="text-align:center;background-color: #F2EBDE;">

            <li id="menu_type--best_menu">
                <h2 class="masthead-heading text-center text-uppercase text-black mb-0" style="pointer-events: none; ">Ï∂îÏ≤úÎ©îÎâ¥</h2>
            </li>
            <li class="on" id="menu_type--old_W">
                <h2 class="masthead-heading text-center text-uppercase text-black mb-0" style="pointer-events: none; ">ÏôÄÌçº</h2>
            </li>
            <li id="menu_type--old_B">
                <h2 class="masthead-heading text-center text-uppercase text-black mb-0" style="pointer-events: none; ">ÏùºÎ∞òÎ≤ÑÍ±∞</h2>
            </li>
            <li id="menu_type--old_P">
                <h2 class="masthead-heading text-center text-uppercase text-black mb-0" style="pointer-events: none; ">Í≥†Í∏âÎ≤ÑÍ±∞</h2>
            </li>
            <li id="menu_type--old_side">
                <h2 class="masthead-heading text-center text-uppercase text-black mb-0" style="pointer-events: none; ">Ï∂îÍ∞ÄÎ©îÎâ¥</h2>
            </li>
        </ul>
</nav>
<!-- Ï†ÑÏ≤¥ Ï†ïÎ†¨ div--->

<div id="stt"></div>
    <div class="row justify-content-center" id="menu_content--best_menu" style="display: none;">
        {% for menu in best_menu_all %}
            <div class="col-md-3 col-3">
                <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal{{menu.id}}">
                    <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                        <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                    </div>
                    <!-- Product image-->
                    <img class="card-img-top" id="{{menu.title}}--image" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                    <!-- Product details-->
                    <div class="card-body p-4">
                        <div class="text-center">
                            <!-- Menu name-->
                            <h3 class="fw-bolder">{{menu.title|fix_title|linebreaks}}</h3>
                            <!-- Menu price-->
                            <h4 class="fw-normal" id="{{menu.title}}--price">{{menu.price}} Ïõê</h4>
                            <!-- Menu Calorie-->
                            <h5 class="fw-light text-muted">{{menu.calorie}} Kcal</h5>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ÌÅ¥Î¶≠ ÌïòÎ©¥ Îú®Îäî Î™®Îã¨ ÌÉ≠--->
            <div class="portfolio-modal modal fade" id="portfolioModal{{menu.id}}" tabindex="2" aria-labelledby="portfolioModal{{menu.id}}" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header border-0">
                            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center pb-5">
                            <div class="container">
                                <div class="row justify-content-center">
                                    <div class="col-lg-8">
                                        <!-- Portfolio Modal - Image-->
                                        <img class="img-fluid rounded mb-5" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                                        <div style="text-align: left;">
                                            <!-- Portfolio Modal - Title-->
                                            <h1 class="menu-modal-title text-secondary text-uppercase">{{menu.title}}</h1>
                                            <h1 class="menu-modal-en-title text-secondary text-uppercase">{{menu.en_title|default:'ÏπòÌÇ®&ÏÉàÏö∞'}}</h1><br>
                                            <!-- Portfolio Modal - Text-->
                                            <p class="mb-4 menu-modal-desc">{{menu.desc}}</p>
                                        </div>
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="addToCart--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            Îã®Ìíà
                                        </button>
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="setMenuBtn--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            ÏÑ∏Ìä∏Î©îÎâ¥Î°ú ÌïòÍ∏∞
                                        </button>
                                        <button class="btn btn-in-modal btn-secondary" data-bs-toggle="modal" data-bs-target="#subModal{{menu.id}}">
                                            <i class="fas fa-info-circle fa-fw"></i>
                                           ÏÑ∏Ìä∏Î©îÎâ¥Î≥ÄÍ≤Ω
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                    <!-- ÏÑ∏Ìä∏-modal -->
                            <div class="modal fade" id="subModal{{menu.id}}" tabindex="-1" aria-labelledby="subModalLabel{{menu.id}}" aria-hidden="true">
                            <div class="modal-dialog modal-xl">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="subModalLabel{{menu.id}}">Î©îÎâ¥ Î™©Î°ù</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Îã´Í∏∞"></button>
                                    </div>
                                <div class="modal-body">
                                    <div class="row">
                                        {% for subMenu in set_change_all %}
                                            <div class="col-md-5 col-5">
                                                <div class="portfolio-item mx-auto">
                                                    <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                                        <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                                                    </div>
                                                    <!-- Product image-->
                                                    <img class="card-img-top" id="{{subMenu.title}}--image" src="{{subMenu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                                                    <!-- Product details-->
                                                    <div class="card-body p-4">
                                                        <div class="text-center">
                                                            <!-- Menu name-->
                                                            <h3 class="fw-bolder">{{subMenu.title|fix_title|linebreaks}}</h3>
                                                            <!-- Menu price-->
                                                            <h4 class="fw-normal" id="{{subMenu.title}}--price">{{subMenu.price}} Ïõê</h4>
                                                            <!-- Menu Calorie-->
                                                            <h5 class="fw-light text-muted">{{subMenu.calorie}} Kcal</h5>
                                                            <!-- Checkbox -->
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="checkbox" value="{{subMenu.id}}" id="menuCheckbox{{subMenu.id}}" name="menuCheckbox">
                                                                <label class="form-check-label" for="menuCheckbox{{subMenu.id}}">
                                                                    ÏÑ†ÌÉù
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <div class="text-center mt-3">
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="setMenuBtn--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            ÏÑ∏Ìä∏Î©îÎâ¥Î°ú ÌïòÍ∏∞
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        {% endfor %}
    </div>

        <div class="row justify-content-center" id="menu_content--old_W" style="display: on;">
        {% for menu in old_W_all %}
            <div class="col-md-3 col-3">
                <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal{{menu.id}}">
                    <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                        <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                    </div>
                    <!-- Product image-->
                    <img class="card-img-top" id="{{menu.title}}--image" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                    <!-- Product details-->
                    <div class="card-body p-4">
                        <div class="text-center">
                            <!-- Menu name-->
                            <h3 class="fw-bolder">{{menu.title|fix_title|linebreaks}}</h3>
                            <!-- Menu price-->
                            <h4 class="fw-normal" id="{{menu.title}}--price">{{menu.price}} Ïõê</h4>
                            <!-- Menu Calorie-->
                            <h5 class="fw-light text-muted">{{menu.calorie}} Kcal</h5>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ÌÅ¥Î¶≠ ÌïòÎ©¥ Îú®Îäî Î™®Îã¨ ÌÉ≠--->
            <div class="portfolio-modal modal fade" id="portfolioModal{{menu.id}}" tabindex="2" aria-labelledby="portfolioModal{{menu.id}}" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header border-0">
                            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center pb-5">
                            <div class="container">
                                <div class="row justify-content-center">
                                    <div class="col-lg-8">
                                        <!-- Portfolio Modal - Image-->
                                        <img class="img-fluid rounded mb-5" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                                        <div style="text-align: left;">
                                            <!-- Portfolio Modal - Title-->
                                            <h1 class="menu-modal-title text-secondary text-uppercase">{{menu.title}}</h1>
                                            <h1 class="menu-modal-en-title text-secondary text-uppercase">{{menu.en_title|default:'ÏπòÌÇ®&ÏÉàÏö∞'}}</h1><br>
                                            <!-- Portfolio Modal - Text-->
                                            <p class="mb-4 menu-modal-desc">{{menu.desc}}</p>
                                        </div>
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="addToCart--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            Îã®Ìíà
                                        </button>
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="setMenuBtn--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            ÏÑ∏Ìä∏Î©îÎâ¥Î°ú ÌïòÍ∏∞
                                        </button>
                                        <button class="btn btn-in-modal btn-secondary" data-bs-toggle="modal" data-bs-target="#subModal{{menu.id}}">
                                            <i class="fas fa-info-circle fa-fw"></i>
                                           ÏÑ∏Ìä∏Î©îÎâ¥Î≥ÄÍ≤Ω
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                    <!-- ÏÑ∏Ìä∏-modal -->
                            <div class="modal fade" id="subModal{{menu.id}}" tabindex="-1" aria-labelledby="subModalLabel{{menu.id}}" aria-hidden="true">
                            <div class="modal-dialog modal-xl">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="subModalLabel{{menu.id}}">Î©îÎâ¥ Î™©Î°ù</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Îã´Í∏∞"></button>
                                    </div>
                                <div class="modal-body">
                                    <div class="row">
                                        {% for subMenu in set_change_all %}
                                            <div class="col-md-5 col-5">
                                                <div class="portfolio-item mx-auto">
                                                    <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                                        <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                                                    </div>
                                                    <!-- Product image-->
                                                    <img class="card-img-top" id="{{subMenu.title}}--image" src="{{subMenu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                                                    <!-- Product details-->
                                                    <div class="card-body p-4">
                                                        <div class="text-center">
                                                            <!-- Menu name-->
                                                            <h3 class="fw-bolder">{{subMenu.title|fix_title|linebreaks}}</h3>
                                                            <!-- Menu price-->
                                                            <h4 class="fw-normal" id="{{subMenu.title}}--price">{{subMenu.price}} Ïõê</h4>
                                                            <!-- Menu Calorie-->
                                                            <h5 class="fw-light text-muted">{{subMenu.calorie}} Kcal</h5>
                                                            <!-- Checkbox -->
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="checkbox" value="{{subMenu.id}}" id="menuCheckbox{{subMenu.id}}" name="menuCheckbox">
                                                                <label class="form-check-label" for="menuCheckbox{{subMenu.id}}">
                                                                    ÏÑ†ÌÉù
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <div class="text-center mt-3">
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="setMenuBtn--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            ÏÑ∏Ìä∏Î©îÎâ¥Î°ú ÌïòÍ∏∞
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        {% endfor %}
    </div>
     <!-- Î≤ÑÍ±∞ÌÉ≠--->
          <div class="row justify-content-center" id="menu_content--old_B" style="display: none;">
        {% for menu in old_B_all %}
            <div class="col-md-5 col-5">
                <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal{{menu.id}}">
                    <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                        <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                    </div>
                    <!-- Product image-->

                    <img class="card-img-top" id="{{menu.title}}--image" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                    <!-- Product details-->
                    <div class="card-body p-4">
                        <div class="text-center">
                            <!-- Menu name-->
                            <h3 class="fw-bolder">{{menu.title|fix_title|linebreaks}}</h3>
                            <!-- Menu price-->
                            <h4 class="fw-normal" id="{{menu.title}}--price">{{menu.price}} Ïõê</h4>
                            <!-- Menu Calorie-->
                            <h5 class="fw-light text-muted">{{menu.calorie}} Kcal</h5>
                        </div>
                    </div>
                </div>
            </div>
          <!--ÌÅ¥Î¶≠ÌïòÎ©¥ Îú®Îäî Î™®Îã¨Ï∞Ω --->
            <div class="portfolio-modal modal fade" id="portfolioModal{{menu.id}}" tabindex="2" aria-labelledby="portfolioModal{{menu.id}}" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header border-0">
                            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center pb-5">
                            <div class="container">
                                <div class="row justify-content-center">
                                    <div class="col-lg-8">
                                        <!-- Portfolio Modal - Image-->
                                        <img class="img-fluid rounded mb-5" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                                        <div style="text-align: left;">
                                            <!-- Portfolio Modal - Title-->
                                            <h1 class="menu-modal-title text-secondary text-uppercase">{{menu.title}}</h1>
                                            <h1 class="menu-modal-en-title text-secondary text-uppercase">{{menu.en_title|default:'ÏπòÌÇ®&ÏÉàÏö∞'}}</h1><br>
                                            <!-- Portfolio Modal - Text-->
                                            <p class="mb-4 menu-modal-desc">{{menu.desc}}</p>
                                        </div>
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="addToCart--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            Îã®Ìíà
                                        </button>
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="setMenuBtn--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            ÏÑ∏Ìä∏Î©îÎâ¥Î°ú ÌïòÍ∏∞
                                        </button>
                                        <button class="btn btn-in-modal btn-secondary" data-bs-toggle="modal" data-bs-target="#subModal{{menu.id}}">
                                            <i class="fas fa-info-circle fa-fw"></i>
                                           ÏÑ∏Ìä∏Î©îÎâ¥Î≥ÄÍ≤Ω
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                    <!-- ÏÑ∏Ìä∏-modal -->
                            <div class="modal fade" id="subModal{{menu.id}}" tabindex="-1" aria-labelledby="subModalLabel{{menu.id}}" aria-hidden="true">
                            <div class="modal-dialog modal-xl">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="subModalLabel{{menu.id}}">Î©îÎâ¥ Î™©Î°ù</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Îã´Í∏∞"></button>
                                    </div>
                                <div class="modal-body">
                                    <div class="row">
                                        {% for subMenu in set_change_all %}
                                            <div class="col-md-5 col-5">
                                                <div class="portfolio-item mx-auto">
                                                    <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                                        <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                                                    </div>
                                                    <!-- Product image-->
                                                    <img class="card-img-top" id="{{subMenu.title}}--image" src="{{subMenu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                                                    <!-- Product details-->
                                                    <div class="card-body p-4">
                                                        <div class="text-center">
                                                            <!-- Menu name-->
                                                            <h3 class="fw-bolder">{{subMenu.title|fix_title|linebreaks}}</h3>
                                                            <!-- Menu price-->
                                                            <h4 class="fw-normal" id="{{subMenu.title}}--price">{{subMenu.price}} Ïõê</h4>
                                                            <!-- Menu Calorie-->
                                                            <h5 class="fw-light text-muted">{{subMenu.calorie}} Kcal</h5>
                                                            <!-- Checkbox -->
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="checkbox" value="{{subMenu.id}}" id="menuCheckbox{{subMenu.id}}" name="menuCheckbox">
                                                                <label class="form-check-label" for="menuCheckbox{{subMenu.id}}">
                                                                    ÏÑ†ÌÉù
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <div class="text-center mt-3">
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="setMenuBtn--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            ÏÑ∏Ìä∏Î©îÎâ¥Î°ú ÌïòÍ∏∞
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        {% endfor %}
    </div>
     <!-- ÌîÑÎ¶¨ÎØ∏ÏóÑ--->
      <div class="row justify-content-center" id="menu_content--old_P" style="display: none;">
        {% for menu in old_P_all %}
            <div class="col-md-5 col-5">
                <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal{{menu.id}}">
                    <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                        <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                    </div>
                    <!-- Product image-->
                    <img class="card-img-top" id="{{menu.title}}--image" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                    <!-- Product details-->
                    <div class="card-body p-4">
                        <div class="text-center">
                            <!-- Menu name-->
                            <h3 class="fw-bolder">{{menu.title|fix_title|linebreaks}}</h3>
                            <!-- Menu price-->
                            <h4 class="fw-normal" id="{{menu.title}}--price">{{menu.price}} Ïõê</h4>
                            <!-- Menu Calorie-->
                            <h5 class="fw-light text-muted">{{menu.calorie}} Kcal</h5>
                        </div>
                    </div>
                </div>
            </div>
          <!--ÌÅ¥Î¶≠ÌïòÎ©¥ Îú®Îäî Î™®Îã¨Ï∞Ω --->
            <div class="portfolio-modal modal fade" id="portfolioModal{{menu.id}}" tabindex="2" aria-labelledby="portfolioModal{{menu.id}}" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header border-0">
                            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center pb-5">
                            <div class="container">
                                <div class="row justify-content-center">
                                    <div class="col-lg-8">
                                        <!-- Portfolio Modal - Image-->
                                        <img class="img-fluid rounded mb-5" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                                        <div style="text-align: left;">
                                            <!-- Portfolio Modal - Title-->
                                            <h1 class="menu-modal-title text-secondary text-uppercase">{{menu.title}}</h1>
                                            <h1 class="menu-modal-en-title text-secondary text-uppercase">{{menu.en_title|default:'ÏπòÌÇ®&ÏÉàÏö∞'}}</h1><br>
                                            <!-- Portfolio Modal - Text-->
                                            <p class="mb-4 menu-modal-desc">{{menu.desc}}</p>
                                        </div>
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="addToCart--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            Îã®Ìíà
                                        </button>
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="setMenuBtn--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            ÏÑ∏Ìä∏Î©îÎâ¥Î°ú ÌïòÍ∏∞
                                        </button>
                                        <button class="btn btn-in-modal btn-secondary" data-bs-toggle="modal" data-bs-target="#subModal{{menu.id}}">
                                            <i class="fas fa-info-circle fa-fw"></i>
                                           ÏÑ∏Ìä∏Î©îÎâ¥Î≥ÄÍ≤Ω
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                    <!-- ÏÑ∏Ìä∏-modal -->
                            <div class="modal fade" id="subModal{{menu.id}}" tabindex="-1" aria-labelledby="subModalLabel{{menu.id}}" aria-hidden="true">
                            <div class="modal-dialog modal-xl">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="subModalLabel{{menu.id}}">Î©îÎâ¥ Î™©Î°ù</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Îã´Í∏∞"></button>
                                    </div>
                                <div class="modal-body">
                                    <div class="row">
                                        {% for subMenu in set_change_all %}
                                            <div class="col-md-5 col-5">
                                                <div class="portfolio-item mx-auto">
                                                    <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                                        <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                                                    </div>
                                                    <!-- Product image-->
                                                    <img class="card-img-top" id="{{subMenu.title}}--image" src="{{subMenu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                                                    <!-- Product details-->
                                                    <div class="card-body p-4">
                                                        <div class="text-center">
                                                            <!-- Menu name-->
                                                            <h3 class="fw-bolder">{{subMenu.title|fix_title|linebreaks}}</h3>
                                                            <!-- Menu price-->
                                                            <h4 class="fw-normal" id="{{subMenu.title}}--price">{{subMenu.price}} Ïõê</h4>
                                                            <!-- Menu Calorie-->
                                                            <h5 class="fw-light text-muted">{{subMenu.calorie}} Kcal</h5>
                                                            <!-- Checkbox -->
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="checkbox" value="{{subMenu.id}}" id="menuCheckbox{{subMenu.id}}" name="menuCheckbox">
                                                                <label class="form-check-label" for="menuCheckbox{{subMenu.id}}">
                                                                    ÏÑ†ÌÉù
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <div class="text-center mt-3">
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="setMenuBtn--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            ÏÑ∏Ìä∏Î©îÎâ¥Î°ú ÌïòÍ∏∞
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        {% endfor %}
    </div>
     <!-- ÏÇ¨Ïù¥Îìú ÌÉ≠--->
      <div class="row justify-content-center" id="menu_content--old_side" style="display: none;">
        {% for menu in old_side_all %}
            <div class="col-md-3 col-3">
                <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal{{menu.id}}">
                    <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                        <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                    </div>
                    <!-- Product image-->
                    <img class="card-img-top" id="{{menu.title}}--image" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                    <!-- Product details-->
                    <div class="card-body p-4">
                        <div class="text-center">
                            <!-- Menu name-->
                            <h3 class="fw-bolder">{{menu.title|fix_title|linebreaks}}</h3>
                            <!-- Menu price-->
                            <h4 class="fw-normal" id="{{menu.title}}--price">{{menu.price}} Ïõê</h4>
                            <!-- Menu Calorie-->
                            <h5 class="fw-light text-muted">{{menu.calorie}} Kcal</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="portfolio-modal modal fade" id="portfolioModal{{menu.id}}" tabindex="2" aria-labelledby="portfolioModal{{menu.id}}" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header border-0">
                            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center pb-5">
                            <div class="container">
                                <div class="row justify-content-center">
                                    <div class="col-lg-8">
                                        <!-- Portfolio Modal - Image-->
                                        <img class="img-fluid rounded mb-5" src="{{menu.image|fix_route|default:'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}}" alt="..." />
                                        <div style="text-align: left;">
                                            <!-- Portfolio Modal - Title-->
                                            <h1 class="menu-modal-title text-secondary text-uppercase">{{menu.title}}</h1>
                                            <h3 class="menu-modal-en-title text-secondary text-uppercase">{{menu.en_title|default:'ÏπòÌÇ®&ÏÉàÏö∞'}}</h3><br>
                                            <!-- Portfolio Modal - Text-->
                                            <p class="mb-4 menu-modal-desc">{{menu.desc}}</p>
                                        </div>
                                        <button class="btn btn-in-modal btn-primary" data-bs-dismiss="modal" id="addToCart--{{menu.title}}">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            Ïû•Î∞îÍµ¨ÎãàÏóê Îã¥Í∏∞
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    <!-- ÎìúÎßÅÌÅ¨ ÌÉ≠--->
<pre>
         „Ö§
         „Ö§
         „Ö§
         „Ö§
         „Ö§
         „Ö§      „Ö§
         „Ö§
         „Ö§
     </pre>


</section>


 <script>
    let tabButton = document.querySelectorAll('[id^=menu_type]');

    // ÏùåÎ£å Ïπ¥ÌÖåÍ≥†Î¶¨Ïóê Îî∞Î•∏ ÌÉ≠ Î©îÎâ¥ Ï≤òÎ¶¨
    const tabButtonClickHandle = (e) =>{
        if (e.target !== e.currentTarget) return;
        e.preventDefault();

        let id = e.target.id.split("--")[1];
        console.log("selected " + id);

        let prevElement = document.querySelector('[class^=on]');
        let prev_id = prevElement.id.split("--")[1];

        $("#menu_type--" + prev_id).removeClass("on");
        $("#menu_content--" + prev_id).hide();

        $("#menu_type--" + id).addClass("on");
        $("#menu_content--" + id).show();

    }

    for(let i=0;i<tabButton.length;i++){
        tabButton[i].addEventListener('click',tabButtonClickHandle);
    }

</script>

{% endblock%}

{% block cart %}

<style>
    .bottombar {
        position: fixed;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1030;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        padding-top: 0.5rem;
        padding-bottom: 0rem;
      }
    .cart-info {

        width: 100%;
        padding: 1rem 1rem;
        background-color : #EF8C47;
    }
    .payment {
        width: 100%;
    }
    #pay-cancel, #pay {
        width: 50%;
        text-align: center;
        padding-top: 1rem;
-    }
    #pay-cancel {
        color: #fff;
        background-color: #4B2618;
    }
    #pay {
        background-color: #FF0000;
    }
    #pay-cancel:hover {
        color: #555555;
        background-color: #E8E8E8;
    }
    #pay:hover {
        color: #fff;
        background-color: #9B111E;
    }
    #cart-list > * {
        color: #fff;
        text-align: center;
        font-size: 1.25rem;
        padding-bottom: 0.5rem;

    }
    #cartElement {
        text-align: left;
        padding-left: 2rem;
    }


</style>
<!-- Î∞ëÏóê Í≤∞Ï†úÌïòÎäî Î∂ÄÎ∂Ñ Section-->
<section class="bottombar" style="background-color: #F2EBDE;">
    <form id="order_submission" action="{% url 'bugger:old_confirm' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
    </form>
    <!-- Ï£ºÎ¨∏Ìïú ÏÉÅÌíà--->
    <div class="cart-info py-3">
        <div class="row" id="cart">
            <div class="row" id="headingOne">
                <button class="btn collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    <h4 class="text-black fw-bolder">üõíÏ£ºÎ¨∏Ìïú ÏÉÅÌíà <sup>0</sup></h4>
                </button>
            </div>
            <div class="row accordion-collapse collapse" id="collapseOne" aria-labelledby="headingOne" data-bs-parent="#cart">
                <div class="accordion-body">
                    <div class="row" id="cart-list">

                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="payment">
        <div class="row">

            <div id="pay-cancel" class="py-3" OnClick="location.href ='{% url 'bugger:home' %}'" style="cursor:pointer;" >
                <h1 class="fw-bolder">‚ùå Î™®Îì† Ï£ºÎ¨∏ Ï∑®ÏÜåÌïòÍ∏∞</h1></h1>
            </div>

            <div id="pay" class="py-3" OnClick="order_now();" style="cursor:pointer;">
                <div class="row">
                     <div class="col-5 text-white" style="text-align: center; padding-left: 10%;"><h1>>üí≥Í≤∞Ï†úÌïòÍ∏∞</h1></div>
                    <div class="col-3 text-white" id="total-money" style="text-center: right; padding-right: 10%;"><h1>0</h1></div>
                    <div class="col-1 text-white" style="text-align: center;"><h1>Ïõê</h1></div>
                </div>
            </div>
        </div>
    </div>


</section>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $.extend({
        getUrlVars: function(){
            var vars = [], hash;
            var hashes = window.location.href.slice(window.location.href.indexOf('?') +1).split('&');
            for(var i = 0; i < hashes.length; i++) {
                hash = hashes[i].split('=');
                vars.push(hash[0]);
                vars[hash[0]] = hash[1];
            }
            console.log(vars);
            return vars;
        },

        getUrlVar: function(name) {
            return $.getUrlVars()[name];
        }

    });

function order_now() {
    let cart_items = document.querySelectorAll('[id^=cart--]');
    if (cart_items.length === 0) {
        alert("Ïû•Î∞îÍµ¨ÎãàÍ∞Ä ÎπÑÏñ¥ÏûàÏäµÎãàÎã§.");
        return;
    }

    let menu_list = [];
    let menu_counts = [];

    for (let i = 0; i < cart_items.length; i++) {
        var menu_id = cart_items[i].id.split("--")[1];
        var cnt = document.getElementById(menu_id + '--count').innerText * 1;
        console.log(cnt);

        var menu_title = cart_items[i].querySelector('.col-7').innerText; // Î©îÎâ¥ Ï†úÎ™© Í∞ÄÏ†∏Ïò§Í∏∞
        menu_list.push(menu_title);
        menu_counts.push(cnt);
    }

    var usage_type = getUrlParameter('usage_type');

    var form = document.getElementById("order_submission");
    var parm = [];
    parm.push(['usage_type', usage_type]);
    parm.push(['menu_list', menu_list.join(',')]);
    parm.push(['menu_counts', menu_counts.join(',')]);

    var input = [];
    for (var i = 0; i < parm.length; i++) {
        input[i] = document.createElement("input");
        input[i].setAttribute("type", "hidden");
        input[i].setAttribute('name', parm[i][0]);
        input[i].setAttribute("value", parm[i][1]);
        form.appendChild(input[i]);
    }
    document.body.appendChild(form);
    form.submit();
}

function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
}


      // Ïû•Î∞îÍµ¨Îãà ÎÇ¥ÏóêÏÑú ÏùåÎ£å Í∞úÏàò Ï∂îÍ∞Ä (Plus Î≤ÑÌäº ÌÅ¥Î¶≠)
    const addElementButtonClickHandle = (e) => {
        if (e.target !== e.currentTarget) return;
        e.preventDefault();

        console.log(e.target.id);
        let id = e.target.id.split("--")[1];
        console.log("add" + id);

        var prev_count = document.getElementById(id + '--count').innerText;
        prev_count *= 1;
        document.getElementById(id + '--count').innerText = prev_count + 1;

        // Ï£ºÎ¨∏Ìïú ÏÉÅÌíà Ï¥ù Í∞úÏàò ÏàòÏ†ï
        var count = document.querySelector("#headingOne > button > h4 > sup").innerText;
        count *= 1;
        document.querySelector("#headingOne > button > h4 > sup").innerText = count + 1;

        // Ï£ºÎ¨∏ Í∏àÏï° ÏàòÏ†ï
        var price = document.getElementById(id + '--price').innerText.split(' ')[0];
        price *= 1;

        var totalPrice = document.getElementById('total-money').innerText;
        totalPrice *= 1;
        document.getElementById('total-money').innerHTML = '<h5>' + (totalPrice + price) + '</h5>';
    }

    // Ïû•Î∞îÍµ¨Îãà ÎÇ¥ÏóêÏÑú ÏùåÎ£å Í∞úÏàò ÎπºÍ∏∞ (Minus Î≤ÑÌäº ÌÅ¥Î¶≠)
    const deductElementButtonClickHandle = (e) => {
        if (e.target !== e.currentTarget) return;

        e.preventDefault();

        console.log(e.target.id);
        let id = e.target.id.split("--")[1];
        console.log("deduct " + id);

        var prev_count = document.getElementById(id + '--count').innerText;
        prev_count *= 1;

        // 1Í∞ú ÎÇ®ÏïòÏùÑ Í≤ΩÏö∞, div ÏÇ≠Ï†ú
        if (prev_count == 1) {
            document.getElementById('cart--' + id).remove();
        } else {
            document.getElementById(id + '--count').innerText = prev_count - 1;
        }

        // Ï£ºÎ¨∏Ìïú ÏÉÅÌíà Ï¥ù Í∞úÏàò ÏàòÏ†ï
        var count = document.querySelector("#headingOne > button > h4 > sup").innerText;
        count *= 1;
        document.querySelector("#headingOne > button > h4 > sup").innerText = count - 1;

        // Ï£ºÎ¨∏ Í∏àÏï° ÏàòÏ†ï
        var price = document.getElementById(id + '--price').innerText.split(' ')[0];
        price *= 1;

        var totalPrice = document.getElementById('total-money').innerText;
        totalPrice *= 1;
        document.getElementById('total-money').innerHTML = '<h5>' + (totalPrice - price) + '</h5>';
    }



    let setMenuBtn = document.querySelectorAll('[id^=setMenuBtn]');

    const setMenuBtnClickHandle = (e) => {
         var audio = new Audio("/static/audio/Ïû•Î∞îÍµ¨Îãà.wav"); // ÏùåÏÑ± ÌååÏùº Í≤ΩÎ°ú
      audio.load();
      audio.volume = 1;
      audio.play();

        e.preventDefault();

        var count = document.querySelector("#headingOne > button > h4 > sup").innerText;
        count *= 1;
        document.querySelector("#headingOne > button > h4 > sup").innerText = count + 1;

        var id = e.target.id.split("--")[1];
        if (document.getElementById('cart--' + id) == null) {
            let cartListArea = document.getElementById('cart-list');
            cartListArea.innerHTML += '<div class="row" id="cart--' + id + '"> \
                                        <div class="col-7" id="cartElement">' + id + '</div> \
                                        <div class="col-1" id="deduct--' + id + '"><i class="bi bi-dash-circle" style="pointer-events: none;"></i></div> \
                                        <div class="col-2" id="' + id + '--count">1</div> \
                                        <div class="col-1" id="add--' + id + '"><i class="bi bi-plus-circle" style="pointer-events: none;"></i></div> \
                                    </div>'
            // Event Listener Ï∂îÍ∞Ä
            let addElementButton = document.querySelectorAll('[id^=add--]');
            for (let i = 0; i < addElementButton.length; i++) {
                addElementButton[i].addEventListener('click', addElementButtonClickHandle);
            }
            let deductElementButton = document.querySelectorAll('[id^=deduct--]');
            for (let i = 0; i < deductElementButton.length; i++) {
                deductElementButton[i].addEventListener('click', deductElementButtonClickHandle);
            }
        } else {
            var prev_count = document.getElementById(id + '--count').innerText;
            prev_count *= 1;
            document.getElementById(id + '--count').innerText = prev_count + 1;
        }

        var price = document.getElementById(id + '--price').innerText.split(' ')[0];
        price = (parseFloat(price) + 1300) * 1;

        var totalPrice = document.getElementById('total-money').innerText;
        totalPrice = parseFloat(totalPrice) * 1;

        document.getElementById('total-money').innerHTML = '<h5>' + (totalPrice + price) + '</h5>';
    }

    for (let i = 0; i < setMenuBtn.length; i++) {
        setMenuBtn[i].addEventListener('click', (e) => {
        setMenuBtnClickHandle(e);
    });
}

    let addCartButton = document.querySelectorAll('[id^=addToCart]');

    const addCartButtonClickHandle = (e) => {
        e.preventDefault();
         var audio = new Audio("/static/audio/Ïû•Î∞îÍµ¨Îãà.wav"); // ÏùåÏÑ± ÌååÏùº Í≤ΩÎ°ú
          audio.load();
          audio.volume = 1;
          audio.play();
        let id = e.target.id.split("--")[1];
        console.log("add " + id);

        if (document.getElementById('cart--' + id) == null) {
            let cartListArea = document.getElementById('cart-list');
            cartListArea.innerHTML += '<div class="row" id="cart--' + id + '"> \
                                        <div class="col-7" id="cartElement">' + id + '</div> \
                                        <div class="col-1" id="deduct--' + id + '"><i class="bi bi-dash-circle" style="pointer-events: none;"></i></div> \
                                        <div class="col-2" id="' + id + '--count">1</div> \
                                        <div class="col-1" id="add--' + id + '"><i class="bi bi-plus-circle" style="pointer-events: none;"></i></div> \
                                    </div>'
            // Event Listener Ï∂îÍ∞Ä
            let addElementButton = document.querySelectorAll('[id^=add--]');
            for (let i = 0; i < addElementButton.length; i++) {
                addElementButton[i].addEventListener('click', addElementButtonClickHandle);
            }
            let deductElementButton = document.querySelectorAll('[id^=deduct--]');
            for (let i = 0; i < deductElementButton.length; i++) {
                deductElementButton[i].addEventListener('click', deductElementButtonClickHandle);
            }

        } else {
            var prev_count = document.getElementById(id + '--count').innerText;
            prev_count *= 1;
            document.getElementById(id + '--count').innerText = prev_count + 1;
        }

        var count = document.querySelector("#headingOne > button > h4 > sup").innerText;
        count *= 1;
        document.querySelector("#headingOne > button > h4 > sup").innerText = count + 1;

        var price = document.getElementById(id + '--price').innerText.split(' ')[0];
        price *= 1;

        var totalPrice = document.getElementById('total-money').innerText;
        totalPrice *= 1;
        document.getElementById('total-money').innerHTML = '<h5>' + (totalPrice + price) + '</h5>';
    }

 for(let i=0;i<addCartButton.length;i++){
        addCartButton[i].addEventListener('click', addCartButtonClickHandle);
    }

    function order_now() {
    let cart_items = document.querySelectorAll('[id^=cart--]');
    if (cart_items.length === 0) {
        alert("Ïû•Î∞îÍµ¨ÎãàÍ∞Ä ÎπÑÏñ¥ÏûàÏäµÎãàÎã§.");
        return;
    }

    let menu_list = [];
    let menu_counts = [];

    for (let i = 0; i < cart_items.length; i++) {
        var menu_id = cart_items[i].id.split("--")[1];
        var cnt = document.getElementById(menu_id + '--count').innerText * 1;
        console.log(cnt);

        var menu_title = cart_items[i].querySelector('.col-7').innerText; // Î©îÎâ¥ Ï†úÎ™© Í∞ÄÏ†∏Ïò§Í∏∞
        menu_list.push(menu_title);
        menu_counts.push(cnt);
    }

    var usage_type = getUrlParameter('usage_type');

    var form = document.getElementById("order_submission");
    var parm = [];
    parm.push(['usage_type', usage_type]);
    parm.push(['menu_list', menu_list.join(',')]);
    parm.push(['menu_counts', menu_counts.join(',')]);

    var input = [];
    for (var i = 0; i < parm.length; i++) {
        input[i] = document.createElement("input");
        input[i].setAttribute("type", "hidden");
        input[i].setAttribute('name', parm[i][0]);
        input[i].setAttribute("value", parm[i][1]);
        form.appendChild(input[i]);
    }
    document.body.appendChild(form);
    form.submit();
}

function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
}


const sttaddCartButtonClickHandle = (menuInfo) => {
    // 'menuInfo'Î•º ÏÇ¨Ïö©ÌïòÏó¨ Ìï®ÏàòÎ•º Ïã§ÌñâÌï©ÎãàÎã§.
    console.log("add " + menuInfo.title);
    var audio = new Audio("/static/audio/Ïû•Î∞îÍµ¨Îãà.wav"); // ÏùåÏÑ± ÌååÏùº Í≤ΩÎ°ú
      audio.load();
      audio.volume = 1;
      audio.play();
    // 'menuInfo'Ïùò IDÎ•º ÏÇ¨Ïö©ÌïòÏó¨ cartElementÎ•º Ï∞æÏäµÎãàÎã§.
    var cartElement = document.getElementById('cart--' + menuInfo.id);
    var count = document.querySelector("#headingOne > button > h4 > sup").innerText;
        count *= 1;
        document.querySelector("#headingOne > button > h4 > sup").innerText = count + 1;
    if (cartElement === null) {
        let cartListArea = document.getElementById('cart-list');
        let newCartItem = document.createElement('div');
        newCartItem.classList.add('row');
        newCartItem.id = 'cart--' + menuInfo.id; // 'menuInfo'Ïùò IDÎ•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.
        newCartItem.innerHTML = `<div class="col-7">${menuInfo.title}</div>
                                <div class="col-1" id="deduct--${menuInfo.id}"><i class="bi bi-dash-circle" style="pointer-events: none;"></i></div>
                                <div class="col-2" id="${menuInfo.id}--count">1</div>
                                <div class="col-1" id="add--${menuInfo.id}"><i class="bi bi-plus-circle" style="pointer-events: none;"></i></div>`;
        cartListArea.appendChild(newCartItem);

        // Event Listener Ï∂îÍ∞Ä
        let addElementButton = document.querySelectorAll('[id^=add--]');
        for (let i = 0; i < addElementButton.length; i++) {
            addElementButton[i].addEventListener('click', addElementButtonClickHandle);
        }
        let deductElementButton = document.querySelectorAll('[id^=deduct--]');
        for (let i = 0; i < deductElementButton.length; i++) {
            deductElementButton[i].addEventListener('click', deductElementButtonClickHandle);
        }
    } else {
        var prev_count = document.getElementById(menuInfo.id + '--count');
        if (prev_count !== null) {
            var currentCount = parseInt(prev_count.innerText);
            if (!isNaN(currentCount)) {
                prev_count.innerText = currentCount + 1;
            }
        }
    }

    // 'cartElement'Ïùò Ï°¥Ïû¨ Ïó¨Î∂ÄÎ•º Îã§Ïãú ÌôïÏù∏Ìï©ÎãàÎã§.


        // 'menuInfo'ÏóêÏÑú Í∞ÄÍ≤©ÏùÑ Í∞ÄÏ†∏Ïò§Í∏∞ ÏúÑÌï¥ ÏàòÏ†ïÎêú Î∂ÄÎ∂Ñ
        var price = parseFloat(menuInfo.price);
        if (!isNaN(price)) {
            var totalPriceElement = document.getElementById('total-money');
            var totalPrice = parseFloat(totalPriceElement.innerText);
            if (!isNaN(totalPrice)) {
                totalPrice += price;
                // ÌÖçÏä§Ìä∏Î•º ÏóÖÎç∞Ïù¥Ìä∏Ìï©ÎãàÎã§.
                totalPriceElement.innerHTML = '<h5>' + totalPrice + '</h5>';
            }
        }

}


 var csrftoken = jQuery("[name=csrfmiddlewaretoken]").val();

    function csrfSafeMethod(method) {
        return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
    }

    $.ajaxSetup({
        beforeSend: function (xhr, settings) {
            if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                xhr.setRequestHeader("X-CSRFToken", csrftoken);
            }
        }
    });


var currentMenu = 'Whopper';
var isListening = false; // isListening Î≥ÄÏàòÎ•º Ï¥àÍ∏∞Ìôî

var audio = new Audio("/static/audio/Ï£ºÎ¨∏.wav"); // ÏùåÏÑ± ÌååÏùº Í≤ΩÎ°ú
        audio.load();
        audio.volume = 1;
        audio.play();
function startSpeechRecognition() {
    if (!isListening) {
        isListening = true;
        $.ajax({
            url: "{% url 'bugger:apic' %}",
            type: "post",
        }).done(function (data) {
            if (data.stt !== '') {
                document.getElementById('stt').innerHTML = data.stt;
                handleSpeechRecognitionResult(data.stt);
            }
        }).always(function () {
            isListening = false;
            startSpeechRecognition();
        });
    }
}

function handleSpeechRecognitionResult(result) {
    switch (result) {
        case 'ÌôàÏúºÎ°ú':
            location.href = '{% url 'bugger:home' %}';
            break;
        case 'ÏùºÎ∞òÎ≤ÑÍ±∞':
            showMenu('old_B');
            break;
       case 'ÏùºÎ∞ò Î≥¥Í≥†':
            showMenu('old_B');
            break;
        case 'ÌîÑÎ¶¨ÎØ∏ÏóÑ':
            showMenu('Premium');
            break;
        case 'Ï∂îÏ≤ú Î©îÎâ¥':
            showMenu('Premium');
            break;
        case 'Ï∂îÏ≤úÎ©îÎâ¥':
            showMenu('Premium');
            break;
        case 'Ï∂îÏ≤ú':
            showMenu('Premium');
            break;
        case 'ÏÇ¨Ïù¥Îìú':
            showMenu('side');
            break;
        case 'ÏùåÎ£å':
            showMenu('drink');
            break;
        case 'Ï£ºÎ¨∏':
            order_now();
            break;
        case 'Í≤∞Ï†ú':
            order_now();
            break;
        case 'ÏôÄÌçº':
            showMenu('Whopper');
            break;
        case 'Î∂àÍ≥†Í∏∞ÏôÄÌçº':
            getMenuInfoByName('Î∂àÍ≥†Í∏∞ÏôÄÌçº');
            break;
        case 'Î∂àÍ≥†Í∏∞ ÏôÄÌçº':
            getMenuInfoByName('Î∂àÍ≥†Í∏∞ÏôÄÌçº');
            break;
        case 'Î∂àÍ≥†Í∏∞ Ïñ¥Ìçº':
            getMenuInfoByName('Î∂àÍ≥†Í∏∞ÏôÄÌçº');
            break;
        case 'Î∂àÍ≥†Í∏∞ ÏïÑÌåå':
            getMenuInfoByName('Î∂àÍ≥†Í∏∞ÏôÄÌçº');
            break;
        case 'ÏπòÏ¶àÏôÄÌçº':
            getMenuInfoByName('ÏπòÏ¶àÏôÄÌçº');
            break;
        case 'ÏπòÏ¶à ÏôÄÌçº':
            getMenuInfoByName('ÏπòÏ¶àÏôÄÌçº');
            break;
        case 'ÏπòÏ¶à Ïñ¥Ìçº':
            getMenuInfoByName('ÏπòÏ¶àÏôÄÌçº');
            break;

       case 'ÏπòÏ¶à Ïñ¥Ìè¨':
            getMenuInfoByName('ÏπòÏ¶àÏôÄÌçº');
            break;
       case 'ÏπòÏ¶à Ïò§ÌîÑ':
            getMenuInfoByName('ÏπòÏ¶àÏôÄÌçº');
            break;
       case 'ÏπòÏ¶à Î™©Ìè¨':
            getMenuInfoByName('ÏπòÏ¶àÏôÄÌçº');
            break;
       case 'ÏπòÏ¶à ÏïÑÌçº':
            getMenuInfoByName('ÏπòÏ¶àÏôÄÌçº');
            break;
    }
}

function getMenuInfoByName(menuName) {
    $.ajax({
        url: "{% url 'bugger:get_menu_info_by_name' %}",
        type: "post",
        data: {
            menu_name: menuName,
            csrfmiddlewaretoken: csrftoken,
        },
    }).done(function (response) {
        if ('title' in response) {
            var menuInfo = {
                title: response.title,
                price: response.price,
                image: response.image,
                desc: response.desc,
                type: response.type,
                calorie: response.calorie,
                id: response.id,
            };
            console.log("Î©îÎâ¥ Ï†ïÎ≥¥:", menuInfo);
            sttaddCartButtonClickHandle(menuInfo);
        } else {
            console.error(response.error);
            startSpeechRecognition();
        }
    });
}

// Îã§Î•∏ Ìï®ÏàòÎì§ (showMenu, order_now, sttaddCartButtonClickHandle Îì±)Ïóê ÎåÄÌïú Ï†ïÏùòÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.



$(document).ready(function () {
    startSpeechRecognition();
});





function showMenu(menuId) {
    var allMenus = ['bugger', 'Premium', 'side', 'drink', 'Whopper'];
    for (var i = 0; i < allMenus.length; i++) {
        var menu = document.getElementById('menu_content--' + allMenus[i]);
        if (menu) {
            menu.style.display = 'none';
        }
    }

    var selectedMenu = document.getElementById('menu_content--' + menuId);
    if (selectedMenu) {
        selectedMenu.style.display = 'block';
    }
}

function convertTextToSpeechOnLoad() {
            const keyword = "ÏïàÎÖïÌïòÏÑ∏Ïöî";  // ÎØ∏Î¶¨ Ï†ïÏùòÎêú ÌïúÍ∏Ä ÏòàÏïΩÏñ¥

            fetch(`/custom_text_to_speech/?keyword=${keyword}`)
                .then(response => response.json())
                .then(data => {
                    const audio = document.getElementById('audio');
                    const audioBlob = new Blob([base64ToArrayBuffer(data.audio)], { type: 'audio/wav' });
                    const audioUrl = URL.createObjectURL(audioBlob);
                    audio.src = audioUrl;
                    audio.play();
                });
        }

        function base64ToArrayBuffer(base64) {
            const binaryString = window.atob(base64);
            const length = binaryString.length;
            const bytes = new Uint8Array(length);
            for (let i = 0; i < length; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            return bytes;
        }


</script>



{% endblock %}